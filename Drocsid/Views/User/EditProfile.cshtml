@model Drocsid.Models.EditModel
@{
    ViewBag.Title = "EditProfile";
    Layout = "~/Views/MasterView.cshtml";
}

<div class="content">
    <h2>Редактирование профиля</h2>
    <div class="edit">
        @*<a href="@Url.Action("EditPassword", "User", new { id = ViewBag.Id})" class="go_reg" id="1" onclick="edit(id); return false;">Изменить пароль</a>*@
        @*<a href="" class="go_reg" id="2" onclick="edit(id)">Изменить имя</a>*@
        <button class="go_reg" id="1" onclick="edit(1)">Изменить пароль</button>
        <button class="go_reg" id="2" onclick="edit(2)">Изменить имя</button>
        <a href="https://ru.gravatar.com/" target="_blank" id="go_reg">Изменить аватар</a>
    </div>
</div>
<div id="big">
</div>
<div class="editform" id="editpass">
    @using (Html.BeginForm("EditPassword", "User", FormMethod.Post, new { @name = "gopass" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)
        @Html.Hidden("Id", (int)ViewBag.Id)
        <p>
            @Html.LabelFor(m => m.Password)
            @Html.PasswordFor(m => m.Password)
        </p>


        <input type="submit" class="go_reg" value="Сохранить" id="pass">
    }
</div>
<div class="editform" id="editname">
    @using (Html.BeginForm("EditName", "User", FormMethod.Post, new { @name = "goname" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)
        @Html.Hidden("Id", (int)ViewBag.Id)
    <p>
        @Html.LabelFor(m => m.Username)
        @Html.TextBoxFor(m => m.Username)
    </p>
      
        <input type="submit" class="go_reg" value="Сохранить" id="log">
    }
</div>
<script>
    document.forms.gopass.onsubmit = function () {
        var pass = document.getElementById("Password").value;
        if (pass != null || !hasWhiteSpaces(pass)) {
            if (pass.length >= 6) {
                alert("Пароль успешно изменён");
                return true;
            } else {
                alert("Длина пароля должна быть больше 6");
            }
        } else {
            alert("Длина пароля должна быть больше 6");
        }
        return false;
    }

    document.forms.goname.onsubmit = function () {
        var name = document.getElementById("Username").value;
        if (name != null || !hasWhiteSpaces(name)) {
            if (name.length >= 3) {
                alert("Имя успешно изменёно");
                return true;
            } else {
                alert("Длина имени должна быть больше 3");
                return false;
            }
        } else {
            alert("Длина имени должна быть больше 3");
            return false;
        }
    }

    function hasWhiteSpaces(s) {
        return s.indexOf(' ') >= 0;
    }
</script>





